(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{589:function(e,t,s){Promise.resolve().then(s.bind(s,9678))},9678:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(7437),n=s(2265),a=s(7107),i=s(7138),l=s(6463);function o(){let[e,t]=(0,n.useState)(""),[s,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,x]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),g=(0,l.useRouter)(),f=(0,l.useSearchParams)().get("redirect")||"/dashboard",b=(0,a.e)();async function p(t){t.preventDefault(),x(!0),d("");let{error:r}=await b.auth.signInWithPassword({email:e,password:s});r?(d(r.message),x(!1)):(g.push(f),g.refresh())}async function y(){if(!e){d("Enter your email first");return}x(!0),d("");let{error:t}=await b.auth.signInWithOtp({email:e,options:{emailRedirectTo:"".concat(window.location.origin,"/callback?next=").concat(f)}});t?(d(t.message),x(!1)):h(!0),x(!1)}return(0,r.jsx)("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center px-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)(i.default,{href:"/",className:"inline-flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"F"})}),(0,r.jsx)("span",{className:"text-white font-bold text-xl",children:"FlipFlow"})]}),(0,r.jsx)("p",{className:"text-gray-400 mt-2",children:"Sign in to your account"})]}),m?(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-8 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-full bg-indigo-600/20 flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,r.jsx)("h2",{className:"text-white font-semibold text-xl mb-2",children:"Check your email"}),(0,r.jsxs)("p",{className:"text-gray-400",children:["We sent a magic link to ",(0,r.jsx)("span",{className:"text-indigo-400",children:e})]})]}):(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-8",children:[(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Email"}),(0,r.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500 transition-colors",placeholder:"you@example.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Password"}),(0,r.jsx)("input",{type:"password",value:s,onChange:e=>o(e.target.value),required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500 transition-colors",placeholder:"••••••••"})]}),c&&(0,r.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl px-4 py-3 text-red-400 text-sm",children:c}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white font-semibold py-3 rounded-xl transition-colors",children:u?"Signing in...":"Sign In"})]}),(0,r.jsxs)("div",{className:"mt-4 relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-800"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"bg-gray-900 px-3 text-gray-500",children:"or"})})]}),(0,r.jsx)("button",{onClick:y,disabled:u,className:"mt-4 w-full bg-gray-800 hover:bg-gray-700 disabled:opacity-50 text-gray-300 font-medium py-3 rounded-xl transition-colors",children:"Send Magic Link"}),(0,r.jsxs)("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Don't have an account?"," ",(0,r.jsx)(i.default,{href:"/signup",className:"text-indigo-400 hover:text-indigo-300",children:"Sign up free"})]})]})]})})}function c(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-950"}),children:(0,r.jsx)(o,{})})}},7107:function(e,t,s){"use strict";s.d(t,{A:function(){return l},e:function(){return o}});var r=s(6038),n=s(357);let a=n.env.NEXT_PUBLIC_SUPABASE_URL||"https://placeholder.supabase.co",i=n.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.placeholder",l=()=>(0,r.createBrowserClient)(a,i),o=()=>(0,r.createBrowserClient)(a,i)},7138:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var r=s(231),n=s.n(r)},6463:function(e,t,s){"use strict";var r=s(1169);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[231,38,971,23,744],function(){return e(e.s=589)}),_N_E=e.O()}]);